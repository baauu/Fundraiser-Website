<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="css/StyleSheet1.css">
    <link rel="stylesheet" type="text/css" href="css/loginStyleSheet.css">
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"
            integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU="
            crossorigin="anonymous"></script>

    <title></title>
</head>
<body class="background-gradient">

    <header>
        <div w3-include-html="header.html"></div>
    </header>
    <div class="container">
        <div class="card card-container">
            <!-- <img class="profile-img-card" src="//lh3.googleusercontent.com/-6V8xOA6M7BA/AAAAAAAAAAI/AAAAAAAAAAA/rzlHcD0KYwo/photo.jpg?sz=120" alt="" /> -->
            <img id="profile-img" class="profile-img-card" src="sample_img/avatar.png" />
            <p id="profile-name" class="profile-name-card"></p>
            <form class="form-signin">
                <span id="reauth-email" class="reauth-email"></span>
                <input type="email" id="inputEmail" class="form-control" placeholder="Email address" required autofocus>
                <input type="password" id="inputPassword" class="form-control" placeholder="Password" required>

                <button class="btn btn-lg btn-primary btn-block btn-signin" type="submit">Sign up</button>
            </form><!-- /form -->

        </div><!-- /card-container -->
    </div><!-- /container -->
    <footer></footer>




    <!--OLD SCRIPT-->
    <script type="module">

        //THIS IS WHERE YOU PASTE THE CODE TO CONNECT TO YOUR OWN DATABASE
        //Copy and paste the CDN bit of code from your app that you created on Firebase.
        //The script tag above is already there, so careful not to have duplicate script tags.
        //After you've copied and pasted, just delete the unnecessary script tags.

        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.2/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.17.2/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyC83qnIugk6Gtne0-NvHJZuJo9v25c29hw",
            authDomain: "capstone-fund-website.firebaseapp.com",
            databaseURL: "https://capstone-fund-website-default-rtdb.firebaseio.com",
            projectId: "capstone-fund-website",
            storageBucket: "capstone-fund-website.appspot.com",
            messagingSenderId: "261919550921",
            appId: "1:261919550921:web:686845ffc25aaf78074c18",
            measurementId: "G-1J8HQKC1YN"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);


        import { getDatabase, ref, get, set, child, update, remove }
            from "https://www.gstatic.com/firebasejs/9.17.2/firebase-database.js";



        const db = getDatabase();

        var enterID = document.querySelector("#enterID");
        var enterName = document.querySelector("#enterName");
        var enterAge = document.querySelector("#enterAge");
        var findID = document.querySelector("#findID");
        var findName = document.querySelector("#findName");
        var findAge = document.querySelector("#findAge");


        var insertBtn = document.querySelector("#insert");
        var updateBtn = document.querySelector("#update");
        var removeBtn = document.querySelector("#remove");
        var findBtn = document.querySelector("#find");

        function InsertData() {
            set(ref(db, "People/" + enterID.value), {
                Name: enterName.value,
                ID: enterID.value,
                Age: enterAge.value
            })
                .then(() => {
                    alert("Data added successfully");
                })
                .catch((error) => {
                    alert(error);
                });
        }

        function FindData() {
            const dbref = ref(db);

            get(child(dbref, "People/" + findID.value))
                .then((snapshot) => {
                    if (snapshot.exists()) {
                        findName.innerHTML = "Name: " + snapshot.val().Name;
                        findAge.innerHTML = "Age: " + snapshot.val().Age;
                    } else {
                        alert("No data found");
                    }
                })
                .catch((error) => {
                    alert(error)
                })

        }

        function UpdateData() {
            update(ref(db, "People/" + enterID.value), {
                Name: enterName.value,
                Age: enterAge.value
            })
                .then(() => {
                    alert("Data updated successfully");
                })
                .catch((error) => {
                    alert(error);
                });
        }

        function RemoveData() {
            remove(ref(db, "People/" + enterID.value))
                .then(() => {
                    alert("Data deleted successfully");
                })
                .catch((error) => {
                    alert(error);
                });
        }

        insertBtn.addEventListener('click', InsertData);
        updateBtn.addEventListener('click', UpdateData);
        removeBtn.addEventListener('click', RemoveData);
        findBtn.addEventListener('click', FindData);

    </script>



    <script type="text/javascript" src="js/load-script.js"></script>
    <script>
        includeHTML();
    </script>
</body>
</html>