<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="css/StyleSheet1.css">
    <link rel="stylesheet" type="text/css" href="css/loginStyleSheet.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"
            integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU="
            crossorigin="anonymous"></script>

    <title></title>
</head>
<body>
    <header>
        <div w3-include-html="header.html"></div>

        <script type="module" src="user.js"></script>

        <!-- <script type="module">
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.20.0/firebase-app.js";
            import { getDatabase, ref, get, set, child, update, remove } from "https://www.gstatic.com/firebasejs/9.20.0/firebase-database.js";
            import { getAuth, createUserWithEmailAndPassword,
                signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.20.0/firebase-auth.js";

            const firebaseConfig = {
                apiKey: "AIzaSyC83qnIugk6Gtne0-NvHJZuJo9v25c29hw",
                authDomain: "capstone-fund-website.firebaseapp.com",
                databaseURL: "https://capstone-fund-website-default-rtdb.firebaseio.com",
                projectId: "capstone-fund-website",
                storageBucket: "capstone-fund-website.appspot.com",
                messagingSenderId: "261919550921",
                appId: "1:261919550921:web:686845ffc25aaf78074c18",
                measurementId: "G-1J8HQKC1YN"
            };

            const app = initializeApp(firebaseConfig);
            const auth = getAuth(app);
            const db = getDatabase();

            var email = document.querySelector("#email");
            var password = document.querySelector("#password");

            var submitBtn = document.querySelector("#submitBtn");


            const userSignIn = async() => {
                const emailVal = email.value;
                const passVal = password.value;
                signInWithEmailAndPassword(auth, emailVal, passVal)
                .then((userCredential) => {
                    const user = userCredential.user;
                    const password = userCredential.password;
                    alert("You have signed in successfully!");
                })
                .catch((error) => {
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    console.log(errorCode + errorMessage)
                })
            }

            //function that helped me trouble shoot
            function display() {
                let emailVal = email.value

                console.log(emailVal)
            }

            const checkAuthState = async() => {
                onAuthStateChanged(auth, user => {
                    if(user) /*if user exists*/{
                        //add the sign out button to account html bar
                        //make account tab visible

                        console.log("user has logged in")
                    }
                    else {

                    }
                })
            }


            submitBtn.addEventListener('click', userSignIn);

        </script> -->

    </header>
    <div class="container">
        <div class="card card-container">
            <!-- <img class="profile-img-card" src="//lh3.googleusercontent.com/-6V8xOA6M7BA/AAAAAAAAAAI/AAAAAAAAAAA/rzlHcD0KYwo/photo.jpg?sz=120" alt="" /> -->
            <img id="profile-img" class="profile-img-card" src="sample_img/avatar.png" />
            <p id="profile-name" class="profile-name-card"></p>
            <div class="form-signin">
                <span id="reauth-email" class="reauth-email"></span>
                <input type="email" id="email" class="form-control" placeholder="Email address" required autofocus>
                <input type="password" id="password" class="form-control" placeholder="Password" required>
                <div id="remember" class="checkbox">
                    <label>
                        <div>
                            <!-- <a href="d-flex links" class="forgot-password"> -->
                            Forgot your password?
                            <a href="reset.html" class="forgot-password"> Click Here</a>
                        </div>

                        </a>
                    </label>
                </div>
                <input id="signInBtn" class="btn btn-lg btn-primary btn-block btn-signin" type="submit" value="Sign In">
                <input id="signOut" class="btn btn-lg btn-primary btn-block btn-signin" type="submit" value="Sign Out" style="visibility: hidden;">
            </div><!-- /form -->

            <div class="d-flex links">
                Don't have an account?
                <a href="signup.html" class="forgot-password"> Sign Up</a>
            </div>
        </div><!-- /card-container -->
    </div><!-- /container -->



    <script type="text/javascript" src="js/load-script.js"></script>
    <script>
        includeHTML();
    </script>
</body>
</html>